## Why create a nodeJS server 

to render a HTML page, we need a web server. Even when we use live server extension of VS code, VS code is creating a web server for us. 

Therefore, to render any webpage, we need to create a nodeJS server first and then render our web page on it 

## How to create a web server 

1. Open project folder in VS code

2. Goto terminal and initiate node : **npm init**

3. This will ask a few questions and then create a package.json 

4. Install express dependency as : **npm i express**

5. Make a new folder src in the root

6. Make new **server.js** and **index.html** inside **src** 

7. In the server.js, initialise with following code :

const express=require("express");
const path=require("path");
const app=express();
const port=process.env.PORT||3000;

//... middleware and routes (get, post etc.)

app.listen(port,()=> {
	console.log(`Server running at ${port}`);
});


8. Make public folder in root (parallel to src) and create script.js and styles.css in this folder.Also, link these two files in index.html


9. We will empower our nodeJS server to render static files using : 

app.use(express.static(__dirname));
app.use(express.static(__dirname + '/public'));


10. Now, nodeJS web server is not configured to render JS and CSS files on HTTP request. So, we need to use a middleware to render JS and CSS files as well with index.html 

### Although we can avoid this step if we add script and style part of HTML in header and body tag but it is a good practice to keep different parts of code separate 

**So, add following middleware to render JS and CSS files**

app.use((req, res, next) => {
  const ext = req.url.split('.').pop();
  if (ext === 'css') {
    res.set('Content-Type', 'text/css');
  } else if (ext === 'js') {
    res.set('Content-Type', 'application/javascript');
  }
  next();
});


11. Now go back to root directory and install nodemon : npm install nodemon

12. Goto package.json and inside the scripts object, write following : 
	
    "scripts": {
    "dev": "nodemon src/app.js -e js, hbs",
  },


13. Now, we can now run the server using : npm run dev