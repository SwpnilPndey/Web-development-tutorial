## Create the web site based on requirement 


## Include web3.JS script from CDN in header

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.2.7-rc.0/web3.min.js"></script>


## Now, add following script in header of index.html or in separate js file and link it here

fetch('<path to contract.json in build folder of truffle smart contract>')
  .then(response => response.json())
  .then(data => {
    const ABI = data.abi;
    const Address = data.networks.<network ID>.address;//check contract json for the ID
    window.web3=await new Web3(window.ethereum);
    window.contract=await new window.web3.eth.Contract(ABI,Address);
  });


## Now create a Connect metamask button on the right 

1. Create HTML button 

<button onclick="connectMetamask()" id="metamask-button">Connect Metamask</button>


2. Now, define the connectMetamask() function in metamask.js in public folder : 

const connectMetamask=async ()=> {
    let account;
    if(window.ethereum!=="undefined") {
        **const accounts=await ethereum.request({method:"eth_requestAccounts"});**
        account=accounts[0];
        let shortHandAccount=account.slice(0,4)+"..."+account.slice(-4);
        document.getElementById("metamask-button").innerHTML=shortHandAccount;
    }
    else {
        alert("Kindly install metamask")
    }
}

### const accounts=await ethereum.request({method:"eth_requestAccounts"});

ethereum is a global object provided by Web3 provider (Metamask here)


3. Call metamask.js in index.html



## After metamask is connected, we can use smart contract functions just as we would call the function in truffle test : 

const myFunction=async ()=> {
    let account;
    const accounts=await ethereum.request({method:"eth_requestAccounts"});
    account=accounts[0];
await window.contract.methods.mintAndListNFT(_name, _symbol, _URI, _price, {value: 1000, from: account});
}


## 


### This way we can connect smart contract to JS and make a front end only dapp




